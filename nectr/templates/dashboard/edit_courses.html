{% extends 'dashboard/dashboard_edit.html' %}

{% block form_content %}
    <div class="col-md-8">
        <div class="card">
            <div class="header">
                <h4 class="title">Edit Courses</h4>
            </div>
            <div class="content">
                <form method="post" action="{% url 'dashboard:edit_courses' %}">
                    {% csrf_token %}

                    {#                    {% if courses %}#}


                    <input name="subject" type="text" id="subject" placeholder="Subject">
                    <input name="course" type="text" id="course" placeholder="Courses">

                    <input type="submit" class="add-row" value="Add Row" name="create">


                    <table>
                        <thead>
                        <tr>
                            <th>Select</th>
                            <th>Subject</th>
                            <th>Courses</th>
                        </tr>
                        </thead>
                        {% if courses %}
                            {% for course in courses.all %}
                                <tr>
                                    <td><button type="submit" class="delete-row" name="delete" value="{{ course.id }}">Delete Row</button></td>
                                    <td>{{ course.subject }}</td>
                                    <td>{{ course.course_name }}</td>

                                </tr>
                            {% endfor %}
                        {% else %}
                            <tr>
                                <td></td>
                                <td>Currently No Subjects</td>
                                <td>Currently No Courses</td>
                            </tr>
                        {% endif %}


                    </table>
                    {#                    {% endif %}#}

                </form>
                <style type="text/css">
                    form {
                        margin: 20px 0;
                    }

                    form input, button {
                        padding: 5px;
                    }

                    table {
                        width: 100%;
                        margin-bottom: 20px;
                        border-collapse: collapse;
                    }

                    table, th, td {
                        border: 1px solid #cdcdcd;
                    }

                    table th, table td {
                        padding: 10px;
                        text-align: left;
                    }
                </style>


                {#                <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>#}
                {#                <script type="text/javascript">#}
                {#                    $(document).ready(function () {#}
                {#                        $(".add-row").click(function () {#}
                {#                            var subject = $("#subject").val();#}
                {#                            var course = $("#course").val();#}
                {#                            var markup = "<tr><td><input type='checkbox' subject='record'></td><td>" + subject + "</td><td>" + course + "</td></tr>";#}
                {#                            $("table tbody").append(markup);#}
                {#                        });#}
                {##}
                {#                        // Find and remove selected table rows#}
                {#                        $(".delete-row").click(function () {#}
                {#                            $("table tbody").find('input[subject="record"]').each(function () {#}
                {#                                if ($(this).is(":checked")) {#}
                {#                                    $(this).parents("tr").remove();#}
                {#                                }#}
                {#                            });#}
                {#                        });#}
                {#                    });#}
                {#                </script>#}


            </div>
        </div>
    </div>

{% endblock %}
